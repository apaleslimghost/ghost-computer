<!DOCTYPE html>
<html>
    <head>
        <title>
            <% if content_for?(:title) %>
                <%= content_for :title %> â˜° a pale slim ghost
            <% else %>
                a pale slim ghost
            <% end %>
        </title>
        <meta name="viewport" content="width=device-width,initial-scale=1">
        <%= content_for :meta %>
        <%= csrf_meta_tags %>
        <%= csp_meta_tag %>

        <%= javascript_pack_tag 'application' %>
        <%= stylesheet_link_tag 'application', media: 'all' %>
    </head>

    <body class="<%= controller_name.underscore.dasherize %>"
        <% if current_user %>
          data-controller="drag-drop"
          data-action="dragover->drag-drop#showOverlay dragleave->drag-drop#hideOverlay drop->drag-drop#uploadFiles"
        <% end %>
    >
        <%= render 'nav' %>

        <main>
            <%= yield %>
        </main>

        <%= form_with(url: upload_path, data: { 'drag-drop-target': 'form' }) if current_user %>
    </body>
</html>
